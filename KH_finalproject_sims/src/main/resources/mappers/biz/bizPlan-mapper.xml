<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="bizPlan">
	<!-- 통신사 (자사) 요금제 리스트 -->
	<select id="selectPlanList" resultType="kh.finalproject.sims.biz.model.vo.BizPlanMngtVo">
	select rownum, plan_name, plan_date, biz_name, plan_no
 		from plan_table
 		where biz_name =(select biz_name from biz where biz_id = #{bizid})
	</select>
	
	<!-- 통신사 요금제 상세 정보 -->
	<select id="selectBizPlanDetail" resultType="kh.finalproject.sims.biz.model.vo.BizPlanMngtVo">
		select * from plan_table where plan_no = #{plan_no}
	</select>
	
	<!-- 통신사 요금제 등록 -->
	<insert id="registerBizPlan">
	insert into plan_table 
 		values (PLAN_SEQ.NEXTVAL, #{planName}
 				, #{bizName}, #{netNo} , #{genNo}
 				, #{planPrice} , #{planVoice}, #{planMessage}
 				, #{planData} , #{planVoiceOver}, #{planMessageOver} 
 				, #{planDataOver} , sysdate)
	</insert>
	
</mapper>